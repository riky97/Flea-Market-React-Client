{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riccardo\\\\Desktop\\\\mercatino-pulci-restAPI\\\\client\\\\src\\\\component\\\\login-signup\\\\loginComponent.tsx\";\nimport React from \"react\";\nimport { Form, Input, Button, Checkbox } from \"antd\";\nimport { MailOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFinish = values => {\n      const {\n        cookies\n      } = this.props;\n      console.log(\"Received values of form: \", values);\n      axios.post(\"http://localhost:9000/login\", values).then(response => {\n        if (response.status === 200) {\n          const data = response.data.session;\n\n          if (data.status === \"success\") {\n            //window.sessionStorage.setItem(data.token, data);\n            cookies.set(\"session\", values);\n            this.setState({\n              session\n            });\n          }\n        }\n      });\n    };\n\n    const {\n      cookies: _cookies\n    } = props;\n    this.state = {\n      session: _cookies.get(\"session\") || false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"login\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"normal_login\",\n        className: \"login-form\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: this.onFinish,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"email\",\n          rules: [{\n            type: \"email\",\n            message: \"The input is not valid E-mail!\"\n          }, {\n            required: true,\n            message: \"Please input your E-mail!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            prefix: /*#__PURE__*/_jsxDEV(MailOutlined, {\n              className: \"site-form-item-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 23\n            }, this),\n            placeholder: \"Email\",\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: \"Please input your Password!\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n              className: \"site-form-item-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 23\n            }, this),\n            type: \"password\",\n            placeholder: \"Password\",\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          className: \"login-section-remember\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"remember\",\n            valuePropName: \"checked\",\n            noStyle: true,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              style: {\n                color: \"#fff\"\n              },\n              children: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"#\",\n            className: \"login-form-forgot\",\n            children: [\" \", \"Forgot password\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          style: {\n            color: \"#fff\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            className: \"login-form-button\",\n            size: \"large\",\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingTop: \".7em\",\n              color: \"#fff\",\n              textDecoration: \"underline\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["C:/Users/Riccardo/Desktop/mercatino-pulci-restAPI/client/src/component/login-signup/loginComponent.tsx"],"names":["React","Form","Input","Button","Checkbox","MailOutlined","LockOutlined","Link","axios","LoginComponent","Component","constructor","props","onFinish","values","cookies","console","log","post","then","response","status","data","session","set","setState","state","get","render","remember","type","message","required","color","paddingTop","textDecoration"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form, Input, Button, Checkbox } from \"antd\";\r\nimport { MailOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nclass LoginComponent extends React.Component {\r\n  constructor(props: any) {\r\n    super(props);\r\n    const { cookies } = props;\r\n    this.state = {\r\n      session: cookies.get(\"session\") || false,\r\n    };\r\n  }\r\n\r\n  onFinish = (values: any) => {\r\n    const { cookies } = this.props;\r\n    console.log(\"Received values of form: \", values);\r\n    axios.post(\"http://localhost:9000/login\", values).then((response) => {\r\n      if (response.status === 200) {\r\n        const data: any = response.data.session;\r\n        if (data.status === \"success\") {\r\n          //window.sessionStorage.setItem(data.token, data);\r\n          cookies.set(\"session\", values);\r\n          this.setState({ session });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  render(): React.ReactNode {\r\n    return (\r\n      <section id=\"login\">\r\n        <Form\r\n          name=\"normal_login\"\r\n          className=\"login-form\"\r\n          initialValues={{ remember: true }}\r\n          onFinish={this.onFinish}\r\n        >\r\n          <h3>log in</h3>\r\n          <Form.Item\r\n            name=\"email\"\r\n            rules={[\r\n              {\r\n                type: \"email\",\r\n                message: \"The input is not valid E-mail!\",\r\n              },\r\n              {\r\n                required: true,\r\n                message: \"Please input your E-mail!\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              prefix={<MailOutlined className=\"site-form-item-icon\" />}\r\n              placeholder=\"Email\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            rules={[{ required: true, message: \"Please input your Password!\" }]}\r\n          >\r\n            <Input\r\n              prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              size=\"large\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item className=\"login-section-remember\">\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n              <Checkbox style={{ color: \"#fff\" }}>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <Link to={\"#\"} className=\"login-form-forgot\">\r\n              {\" \"}\r\n              Forgot password\r\n            </Link>\r\n          </Form.Item>\r\n\r\n          <Form.Item style={{ color: \"#fff\" }}>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form-button\"\r\n              size=\"large\"\r\n            >\r\n              Log in\r\n            </Button>\r\n            <div\r\n              style={{\r\n                paddingTop: \".7em\",\r\n                color: \"#fff\",\r\n                textDecoration: \"underline\",\r\n              }}\r\n            >\r\n              <Link to=\"/\">home</Link>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default LoginComponent;\r\n"]},"metadata":{},"sourceType":"module"}